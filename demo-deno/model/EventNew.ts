// Generated by RSD - Do not modify
import { type EventRepeat, EventRepeatFromJSON, EventRepeatToJSON, isEventRepeat } from './EventRepeat.ts';
import { checkOptProp, checkProp, createTypedArrayGuard, isBoolean, isRecord, isString, isUndefined, propListValue, propMappedValue, propValue } from '../_type-utils.ts';

export type EventNew = {
	readonly title: string;
	readonly description?: string;
	readonly start: string;
	readonly end: string;
	readonly fullday?: boolean;
	readonly repeat?: EventRepeat;
	readonly tags: string[];
	readonly referencedCalendars: string[];
};

export function isEventNew(value: unknown): value is EventNew {
	return isRecord(value) &&
		checkProp(value, 'title', isString) &&
		checkOptProp(value, 'description', isString) &&
		checkProp(value, 'start', isString) &&
		checkProp(value, 'end', isString) &&
		checkOptProp(value, 'fullday', isBoolean) &&
		checkOptProp(value, 'repeat', isEventRepeat) &&
		checkProp(value, 'tags', createTypedArrayGuard(isString)) &&
		checkProp(value, 'referencedCalendars', createTypedArrayGuard(isString));
}

export function EventNewFromJSON(value: Record<string, unknown>): EventNew {
	const title = propValue('title', value, isString);
	const description = propValue('description', value, isString, 'optional');
	const start = propValue('start', value, isString);
	const end = propValue('end', value, isString);
	const fullday = propValue('fullday', value, isBoolean, 'optional');
	const repeat = propMappedValue('repeat', value, isRecord, EventRepeatFromJSON, 'optional');
	const tags = propListValue('tags', value, isString);
	const referencedCalendars = propListValue('referencedCalendars', value, isString);
	return {
		title,
		description,
		start,
		end,
		fullday,
		repeat,
		tags,
		referencedCalendars,
	};
}

export function EventNewToJSON(value: EventNew): Record<string, unknown> {
	const title = value.title;
	const description = value.description;
	const start = value.start;
	const end = value.end;
	const fullday = value.fullday;
	const repeat = isUndefined(value.repeat) ? undefined : EventRepeatToJSON(value.repeat);
	const tags = value.tags;
	const referencedCalendars = value.referencedCalendars;

	return {
		title,
		description,
		start,
		end,
		fullday,
		repeat,
		tags,
		referencedCalendars,
	};
}

